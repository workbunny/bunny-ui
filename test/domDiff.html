<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../src/diff.js"></script>
</head>

<body>
    <div id="dom1">
        <div class="counter">
            <button @click="decrement">-</button>
            <span>Count: 0</span>
            <button @click="increment">+</button>
        </div>
    </div>
    <hr>
    <div id="dom2">
        <div class="counter">
            <button @click="decrement">-</button>
            <span>Count: 1</span>
            <button @click="increment">+</button>
        </div>
    </div>
    <hr>
    <button id="diffBtn">对比差异</button>
    <script>

        // 解析HTML字符串为DOM节点
        function parseHTML(htmlString) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = htmlString.trim();
            return tempDiv.childNodes;
        }

        // 生成虚拟DOM
        const dom1 = document.querySelector('#dom1');
        const dom2 = document.querySelector('#dom2');
        const btn = document.querySelector('#diffBtn');
        // 比较差异
        // 应用差异
        btn.addEventListener('click', () => {
            const VNodeArray1 = domToVNode(dom1.childNodes);
            const VNodeArray2 = domToVNode(dom2.childNodes);
            console.log(VNodeArray1, VNodeArray2);
            const patches = diff(VNodeArray1, VNodeArray2);
            // console.log(patches);
            applyPatches(dom1, patches);
        })

    </script>
</body>

</html>